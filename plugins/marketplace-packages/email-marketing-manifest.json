{
    "package_info": {
        "name": "email-marketing",
        "version": "1.0.0",
        "package_date": "2025-06-30 19:31:01",
        "package_size": 17768,
        "package_format": "zip"
    },
    "plugin_info": {
        "name": "Email Marketing Hub",
        "version": "1.0.0",
        "description": "Comprehensive email marketing solution with campaign management, automation workflows, abandoned cart recovery, and integration with popular email services",
        "author": {
            "name": "Shopologic Team",
            "email": "plugins@shopologic.com",
            "url": "https:\/\/shopologic.com"
        },
        "license": "MIT",
        "homepage": "https:\/\/shopologic.com\/plugins\/email-marketing",
        "keywords": [
            "email",
            "marketing",
            "automation",
            "campaigns",
            "newsletter",
            "abandoned-cart"
        ],
        "requirements": {
            "php": ">=8.3",
            "core": ">=1.0.0",
            "dependencies": {
                "shopologic\/commerce": "^1.0.0"
            }
        },
        "autoload": {
            "psr-4": {
                "Shopologic\\Plugins\\EmailMarketing\\": "src\/"
            }
        },
        "bootstrap": {
            "class": "EmailMarketingPlugin",
            "file": "src\/EmailMarketingPlugin.php"
        },
        "provides": [
            "EmailMarketingInterface",
            "AutomationInterface"
        ],
        "permissions": [
            "email.campaigns.view",
            "email.campaigns.create",
            "email.campaigns.send",
            "email.subscribers.view",
            "email.subscribers.manage",
            "email.automation.manage"
        ],
        "hooks": {
            "actions": [
                {
                    "hook": "user.registered",
                    "handler": "handleNewSubscriber",
                    "priority": 20
                },
                {
                    "hook": "order.completed",
                    "handler": "handleOrderCompleted",
                    "priority": 30
                },
                {
                    "hook": "cart.abandoned",
                    "handler": "handleAbandonedCart",
                    "priority": 10
                },
                {
                    "hook": "product.back_in_stock",
                    "handler": "handleBackInStock",
                    "priority": 20
                },
                {
                    "hook": "page.footer",
                    "handler": "injectNewsletterSignup",
                    "priority": 80
                }
            ]
        },
        "api": {
            "endpoints": [
                {
                    "method": "POST",
                    "path": "\/api\/v1\/email\/subscribe",
                    "handler": "Controllers\\SubscriberController@subscribe",
                    "auth": false
                },
                {
                    "method": "POST",
                    "path": "\/api\/v1\/email\/unsubscribe",
                    "handler": "Controllers\\SubscriberController@unsubscribe",
                    "auth": false
                },
                {
                    "method": "GET",
                    "path": "\/api\/v1\/email\/campaigns",
                    "handler": "Controllers\\CampaignController@index",
                    "auth": true,
                    "permission": "email.campaigns.view"
                },
                {
                    "method": "POST",
                    "path": "\/api\/v1\/email\/campaigns",
                    "handler": "Controllers\\CampaignController@create",
                    "auth": true,
                    "permission": "email.campaigns.create"
                },
                {
                    "method": "POST",
                    "path": "\/api\/v1\/email\/campaigns\/{id}\/send",
                    "handler": "Controllers\\CampaignController@send",
                    "auth": true,
                    "permission": "email.campaigns.send"
                },
                {
                    "method": "GET",
                    "path": "\/api\/v1\/email\/automations",
                    "handler": "Controllers\\AutomationController@index",
                    "auth": true,
                    "permission": "email.automation.manage"
                },
                {
                    "method": "POST",
                    "path": "\/api\/v1\/email\/automations",
                    "handler": "Controllers\\AutomationController@create",
                    "auth": true,
                    "permission": "email.automation.manage"
                }
            ]
        },
        "database": {
            "tables": [
                "email_subscribers",
                "email_lists",
                "email_campaigns",
                "email_campaign_stats",
                "email_automations",
                "email_automation_logs",
                "email_templates",
                "email_bounces",
                "email_preferences"
            ],
            "migrations": "migrations\/"
        },
        "assets": {
            "js": [
                {
                    "src": "assets\/js\/newsletter-signup.js",
                    "position": "footer",
                    "pages": [
                        "all"
                    ]
                },
                {
                    "src": "assets\/js\/campaign-builder.js",
                    "position": "footer",
                    "pages": [
                        "admin"
                    ]
                }
            ],
            "css": [
                {
                    "src": "assets\/css\/newsletter-forms.css",
                    "pages": [
                        "all"
                    ]
                },
                {
                    "src": "assets\/css\/email-builder.css",
                    "pages": [
                        "admin"
                    ]
                }
            ]
        },
        "config": {
            "schema": {
                "provider": {
                    "type": "select",
                    "label": "Email Service Provider",
                    "default": "internal",
                    "options": {
                        "internal": "Built-in Email System",
                        "mailchimp": "Mailchimp",
                        "sendgrid": "SendGrid",
                        "mailgun": "Mailgun",
                        "sendinblue": "Sendinblue",
                        "constant_contact": "Constant Contact",
                        "klaviyo": "Klaviyo"
                    },
                    "required": true
                },
                "api_key": {
                    "type": "string",
                    "label": "API Key",
                    "description": "API key for selected email service provider",
                    "encrypted": true,
                    "depends_on": {
                        "provider": [
                            "mailchimp",
                            "sendgrid",
                            "mailgun",
                            "sendinblue",
                            "constant_contact",
                            "klaviyo"
                        ]
                    }
                },
                "from_name": {
                    "type": "string",
                    "label": "From Name",
                    "description": "Default sender name for emails",
                    "default": "Shopologic Store",
                    "required": true
                },
                "from_email": {
                    "type": "email",
                    "label": "From Email",
                    "description": "Default sender email address",
                    "required": true
                },
                "reply_to_email": {
                    "type": "email",
                    "label": "Reply-To Email",
                    "description": "Email address for replies",
                    "required": false
                },
                "enable_double_optin": {
                    "type": "boolean",
                    "label": "Enable Double Opt-in",
                    "description": "Require email confirmation for new subscribers",
                    "default": true
                },
                "welcome_email": {
                    "type": "boolean",
                    "label": "Send Welcome Email",
                    "description": "Send welcome email to new subscribers",
                    "default": true
                },
                "welcome_email_template": {
                    "type": "select",
                    "label": "Welcome Email Template",
                    "default": "default",
                    "options": {
                        "default": "Default Welcome",
                        "discount": "Welcome with Discount",
                        "custom": "Custom Template"
                    },
                    "depends_on": {
                        "welcome_email": true
                    }
                },
                "abandoned_cart_enabled": {
                    "type": "boolean",
                    "label": "Enable Abandoned Cart Recovery",
                    "description": "Send emails to recover abandoned carts",
                    "default": true
                },
                "abandoned_cart_delay": {
                    "type": "number",
                    "label": "Abandoned Cart Delay (hours)",
                    "description": "Hours to wait before sending first abandoned cart email",
                    "default": 1,
                    "min": 1,
                    "max": 72,
                    "depends_on": {
                        "abandoned_cart_enabled": true
                    }
                },
                "abandoned_cart_series": {
                    "type": "array",
                    "label": "Abandoned Cart Email Series",
                    "description": "Configure multiple follow-up emails",
                    "schema": {
                        "delay_hours": {
                            "type": "number",
                            "label": "Delay (hours)",
                            "min": 1,
                            "max": 168
                        },
                        "subject": {
                            "type": "string",
                            "label": "Email Subject"
                        },
                        "discount_percent": {
                            "type": "number",
                            "label": "Discount %",
                            "min": 0,
                            "max": 100
                        }
                    },
                    "default": [
                        {
                            "delay_hours": 1,
                            "subject": "You left something behind!",
                            "discount_percent": 0
                        },
                        {
                            "delay_hours": 24,
                            "subject": "Still interested? Here's 10% off",
                            "discount_percent": 10
                        },
                        {
                            "delay_hours": 72,
                            "subject": "Last chance - 15% off your cart",
                            "discount_percent": 15
                        }
                    ],
                    "depends_on": {
                        "abandoned_cart_enabled": true
                    }
                },
                "newsletter_signup_incentive": {
                    "type": "select",
                    "label": "Newsletter Signup Incentive",
                    "default": "none",
                    "options": {
                        "none": "No Incentive",
                        "discount_percent": "Percentage Discount",
                        "discount_fixed": "Fixed Amount Discount",
                        "free_shipping": "Free Shipping"
                    }
                },
                "incentive_amount": {
                    "type": "number",
                    "label": "Incentive Amount",
                    "description": "Percentage or fixed amount",
                    "default": 10,
                    "depends_on": {
                        "newsletter_signup_incentive": [
                            "discount_percent",
                            "discount_fixed"
                        ]
                    }
                },
                "segment_sync": {
                    "type": "boolean",
                    "label": "Sync Customer Segments",
                    "description": "Automatically sync customer segments with email lists",
                    "default": true
                },
                "product_recommendations": {
                    "type": "boolean",
                    "label": "Include Product Recommendations",
                    "description": "Add personalized product recommendations to emails",
                    "default": true
                },
                "social_links": {
                    "type": "array",
                    "label": "Social Media Links",
                    "description": "Social media links to include in emails",
                    "schema": {
                        "platform": {
                            "type": "select",
                            "label": "Platform",
                            "options": {
                                "facebook": "Facebook",
                                "twitter": "Twitter",
                                "instagram": "Instagram",
                                "linkedin": "LinkedIn",
                                "youtube": "YouTube",
                                "pinterest": "Pinterest"
                            }
                        },
                        "url": {
                            "type": "url",
                            "label": "Profile URL"
                        }
                    }
                },
                "unsubscribe_page": {
                    "type": "select",
                    "label": "Unsubscribe Page",
                    "default": "default",
                    "options": {
                        "default": "Default Unsubscribe Page",
                        "preferences": "Email Preferences Center",
                        "custom": "Custom Page"
                    }
                },
                "bounce_handling": {
                    "type": "boolean",
                    "label": "Automatic Bounce Handling",
                    "description": "Automatically handle email bounces",
                    "default": true
                },
                "list_cleaning_days": {
                    "type": "number",
                    "label": "List Cleaning Period (days)",
                    "description": "Remove inactive subscribers after this many days",
                    "default": 365,
                    "min": 90,
                    "max": 730
                },
                "gdpr_compliance": {
                    "type": "boolean",
                    "label": "GDPR Compliance Mode",
                    "description": "Enable GDPR compliance features",
                    "default": false
                }
            }
        },
        "widgets": [
            {
                "id": "email_stats",
                "name": "Email Campaign Stats",
                "description": "Overview of email campaign performance",
                "position": "dashboard",
                "permissions": [
                    "email.campaigns.view"
                ]
            },
            {
                "id": "subscriber_growth",
                "name": "Subscriber Growth",
                "description": "Chart showing subscriber growth over time",
                "position": "dashboard",
                "permissions": [
                    "email.subscribers.view"
                ]
            }
        ],
        "scheduled_tasks": [
            {
                "schedule": "*\/15 * * * *",
                "handler": "processAutomations",
                "description": "Process email automation workflows"
            },
            {
                "schedule": "0 * * * *",
                "handler": "checkAbandonedCarts",
                "description": "Check for abandoned carts hourly"
            },
            {
                "schedule": "0 2 * * *",
                "handler": "syncSubscribers",
                "description": "Sync subscribers with external provider"
            },
            {
                "schedule": "0 3 * * *",
                "handler": "cleanBounces",
                "description": "Process and clean email bounces"
            }
        ],
        "changelog": {
            "1.0.0": [
                "Initial release",
                "Email campaign management",
                "Automation workflows",
                "Abandoned cart recovery",
                "Newsletter signup forms",
                "Multiple ESP integrations",
                "Email template builder",
                "Subscriber segmentation"
            ]
        }
    },
    "marketplace_info": {
        "category": "marketing",
        "tags": [
            "marketing",
            "automation"
        ],
        "compatibility": {
            "php": ">=8.3",
            "shopologic": ">=2.0"
        },
        "pricing": {
            "model": "free",
            "price": 0
        }
    },
    "quality_metrics": {
        "health_score": 0,
        "performance_grade": "B",
        "test_coverage": 40,
        "security_score": 100
    },
    "assets": {
        "icon": "marketplace-assets\/icon.svg",
        "banner": "marketplace-assets\/banner.svg",
        "logo": "marketplace-assets\/logo.svg",
        "screenshots": [
            "marketplace-assets\/screenshots\/screenshot-1.svg",
            "marketplace-assets\/screenshots\/screenshot-2.svg",
            "marketplace-assets\/screenshots\/screenshot-3.svg"
        ]
    }
}